(function(t){function e(e){for(var i,a,u=e[0],s=e[1],o=e[2],d=0,p=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);l&&l(e);while(p.length)p.shift()();return c.push.apply(c,o||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],i=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(i=!1)}i&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},c=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var o=0;o<u.length;o++)e(u[o]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"175e":function(t,e,n){t.exports=n.p+"img/needle-ab.4b81da04.png"},"1e22":function(t,e,n){"use strict";n("7c8d")},"3a6b":function(t,e,n){t.exports=n.p+"img/cd.4e8eeba8.png"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23");function r(t,e,n,r,c,a){var u=Object(i["H"])("FooterMusic");return Object(i["O"])((Object(i["z"])(),Object(i["f"])(u,null,null,512)),[[i["L"],t.$store.state.isFooterMusic]])}var c={class:"FooterMusic"},a=["src"];function u(t,e,n,r,u,s){var o=Object(i["H"])("MusicDetail"),l=Object(i["H"])("van-popup");return Object(i["z"])(),Object(i["h"])("div",c,[Object(i["i"])("audio",{ref:"audio",src:t.currentPlay.url},null,8,a),Object(i["k"])(l,{show:!0,position:"right",style:{height:"100%",width:"100%"}},{default:Object(i["N"])((function(){return[Object(i["k"])(o,{music:t.currentPlay,play:s.play,isbtnShow:t.isbtnShow,addDuration:s.addDuration},null,8,["music","play","isbtnShow","addDuration"])]})),_:1})])}var s=n("5530"),o=n("5502"),l=n("175e"),d=n.n(l),p=n("3a6b"),f=n.n(p),h=function(t){return Object(i["C"])("data-v-d81ec8b0"),t=t(),Object(i["A"])(),t},b=h((function(){return Object(i["i"])("img",{src:"https://p2.music.126.net/QdF0rFj1VAli3OpptKU6SQ==/109951168980173340.jpg",alt:"",class:"bgimg"},null,-1)})),y={class:"detailTop"},j={class:"detailTopLeft"},O={class:"leftMarquee"},m=h((function(){return Object(i["i"])("svg",{class:"icon liebiao","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-youjiantou1"})],-1)})),g=h((function(){return Object(i["i"])("div",{class:"detailTopRight"},null,-1)})),v={class:"detailContent"},w=h((function(){return Object(i["i"])("img",{src:f.a,alt:"",class:"img_cd"},null,-1)})),L=["src"],S={class:"musicLyric",ref:"musicLyric"},x={class:"detailFooter"},I=h((function(){return Object(i["i"])("div",{class:"footerTop"},[Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-liebiao-"})])],-1)})),P={class:"footerContent"},k=["max"],T={class:"footer"},_=h((function(){return Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-xunhuan"})],-1)})),C=h((function(){return Object(i["i"])("use",{"xlink:href":"#icon-shangyishoushangyige"},null,-1)})),D=[C],M=h((function(){return Object(i["i"])("use",{"xlink:href":"#icon-bofang1"},null,-1)})),F=[M],$=h((function(){return Object(i["i"])("use",{"xlink:href":"#icon-zanting"},null,-1)})),z=[$],V=h((function(){return Object(i["i"])("use",{"xlink:href":"#icon-xiayigexiayishou"},null,-1)})),Q=[V],N=h((function(){return Object(i["i"])("svg",{class:"icon","aria-hidden":"true"},[Object(i["i"])("use",{"xlink:href":"#icon-zu"})],-1)}));function A(t,e,n,r,c,a){var u=Object(i["H"])("Vue3Marquee");return Object(i["z"])(),Object(i["h"])(i["a"],null,[b,Object(i["i"])("div",y,[Object(i["i"])("div",j,[Object(i["i"])("div",O,[Object(i["k"])(u,{style:{color:"#fff"}},{default:Object(i["N"])((function(){return[Object(i["j"])(Object(i["I"])(n.music.title),1)]})),_:1}),m])]),g]),Object(i["O"])(Object(i["i"])("div",v,[Object(i["i"])("img",{src:d.a,alt:"",class:Object(i["s"])(["img_needle",{img_needle_active:!n.isbtnShow}])},null,2),w,Object(i["i"])("img",{src:n.music.cover,alt:"",class:Object(i["s"])(["img_ar",{img_ar_active:!n.isbtnShow,img_ar_pauesd:n.isbtnShow}]),onClick:e[0]||(e[0]=function(t){return c.isLyricShow=!0})},null,10,L)],512),[[i["L"],!c.isLyricShow]]),Object(i["O"])(Object(i["i"])("div",S,[(Object(i["z"])(!0),Object(i["h"])(i["a"],null,Object(i["F"])(a.lyric,(function(e){return Object(i["z"])(),Object(i["h"])("p",{key:e,class:Object(i["s"])({active:1e3*t.currentTime>=e.time&&1e3*t.currentTime<e.pre})},Object(i["I"])(e.lrc),3)})),128))],512),[[i["L"],c.isLyricShow]]),Object(i["i"])("div",x,[I,Object(i["i"])("div",P,[Object(i["O"])(Object(i["i"])("input",{type:"range",class:"range",min:"0",max:t.duration,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.currentTime=e}),step:"0.05"},null,8,k),[[i["K"],t.currentTime]])]),Object(i["i"])("div",T,[_,(Object(i["z"])(),Object(i["h"])("svg",{class:"icon","aria-hidden":"true",onClick:e[2]||(e[2]=function(t){return a.goPlay(-1)})},D)),n.isbtnShow?(Object(i["z"])(),Object(i["h"])("svg",{key:0,class:"icon bofang","aria-hidden":"true",onClick:e[3]||(e[3]=function(){return n.play&&n.play.apply(n,arguments)})},F)):(Object(i["z"])(),Object(i["h"])("svg",{key:1,class:"icon bofang","aria-hidden":"true",onClick:e[4]||(e[4]=function(){return n.play&&n.play.apply(n,arguments)})},z)),(Object(i["z"])(),Object(i["h"])("svg",{class:"icon","aria-hidden":"true",onClick:e[5]||(e[5]=function(t){return a.goPlay(1)})},Q)),N])])],64)}n("d81d"),n("ac1f"),n("1276"),n("fb6a"),n("a9e3"),n("d3b7"),n("159b");var H=n("c59f"),K=(n("4a94"),{data:function(){return{isLyricShow:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(o["c"])(["lyricList","currentTime","playListIndex","playList","duration"])),{},{lyric:function(){var t;return console.log("this.lyricList",this.music.lyric),this.music.lyric&&(t=this.music.lyric.split(/[(\r\n)\r\n]+/).map((function(t,e){var n=t.slice(1,3),i=t.slice(4,6),r=t.slice(7,10),c=t.slice(11,t.length),a=60*parseInt(n)*1e3+1e3*parseInt(i)+parseInt(r);return isNaN(Number(r))&&(r=t.slice(7,9),c=t.slice(10,t.length),a=60*parseInt(n)*1e3+1e3*parseInt(i)+parseInt(r)),{min:n,sec:i,mill:r,lrc:c,time:a}})),t.forEach((function(e,n){n===t.length-1||isNaN(t[n+1].time)?e.pre=1e5:e.pre=t[n+1].time}))),console.log("lyric",t),t}}),mounted:function(){console.log("----------------",this.music),this.addDuration()},props:["music","isbtnShow","play","addDuration"],methods:Object(s["a"])({backHome:function(){this.isLyricShow=!1,this.updateDetailShow()},goPlay:function(t){var e=this.playListIndex+t;e<0?e=this.playList.length-1:e==this.playList.length&&(e=0),this.updatePlayListIndex(e)}},Object(o["b"])(["updateDetailShow","updatePlayListIndex"])),watch:{currentTime:function(t){var e=document.querySelector("p.active");e&&e.offsetTop>300&&(this.$refs.musicLyric.scrollTop=e.offsetTop-300),t===this.duration&&(this.playListIndex===this.playList.length-1?(this.updatePlayListIndex(0),this.play()):this.updatePlayListIndex(this.playListIndex+1))}},components:{Vue3Marquee:H["a"]}}),R=(n("1e22"),n("6b0d")),U=n.n(R);const q=U()(K,[["render",A],["__scopeId","data-v-d81ec8b0"]]);var E=q,J={data:function(){return{interVal:0}},computed:Object(s["a"])({},Object(o["c"])(["playList","playListIndex","isbtnShow","detailShow","currentPlay"])),mounted:function(){this.$store.dispatch("getPlayMusicList"),this.$store.dispatch("getCurrentPlay",this.playListIndex),this.updateTime()},updated:function(){this.addDuration()},methods:Object(s["a"])({play:function(){this.$refs.audio.paused?(this.$refs.audio.play(),this.updateIsbtnShow(!1),this.updateTime()):(this.$refs.audio.pause(),this.updateIsbtnShow(!0),clearInterval(this.interVal))},addDuration:function(){this.updateDuration(this.$refs.audio.duration)},updateTime:function(){var t=this;this.interVal=setInterval((function(){t.updateCurrentTime(t.$refs.audio.currentTime)}),1e3)}},Object(o["b"])(["updateIsbtnShow","updateDetailShow","updateCurrentTime","updateDuration","updatePlayList"])),watch:{playListIndex:function(){this.$refs.audio.autoplay=!0,this.$refs.audio.paused&&this.updateIsbtnShow(!1)},playList:function(){this.isbtnShow&&(this.$refs.audio.autoplay=!0,this.updateIsbtnShow(!1))}},components:{MusicDetail:E}};n("f773");const B=U()(J,[["render",u],["__scopeId","data-v-4e68ff8a"]]);var G=B,W={components:{FooterMusic:G}};n("aa05");const X=U()(W,[["render",r]]);var Y=X,Z=n("1da1"),tt=(n("96cf"),"[00:17.53]我们梦到 铁皮火车驶过山海\n[00:25.16]一路向城市边缘不停开\n[00:33.17]那班列车 终有天将乘着烟霭\n[00:41.15]载着自由的魂魄去穹隆外\n[00:49.46]我们虽时常 提及那景象\n[00:53.14]却不知该如何细讲\n[00:57.40]如同在异乡 谈论着故乡\n[01:01.05]多么心驰神往\n[01:04.81]那被滞留在人间的旅客\n[01:09.11]沿铁轨向远方求索\n[01:13.15]枕木似阶梯在大地横卧\n[01:17.39]无法休憩片刻\n[01:20.51]从梦境走到繁琐的生活\n[01:25.01]该消磨的任它消磨\n[01:29.14]该紧握的也请永远紧握\n[01:33.23]等待那一班车\n[01:53.53]我们梦到 火车路过现实站台\n[02:01.38]漫天尘沙席卷着吹过来\n[02:09.54]那班列车 终有天将穿过虹彩\n[02:17.42]来填补此前旅途所有苍白\n[02:25.36]我们虽时常 提及那景象\n[02:29.11]却不知该如何细讲\n[02:33.32]如同在异乡 谈论着故乡\n[02:37.28]多么心驰神往\n[02:42.78]那铁皮火车依旧巡游着\n[02:47.11]拖着烟尾巴疾驰过\n[02:51.18]在皮肤下在胸腔在骨骼\n[02:55.33]不间断地穿梭\n[02:58.65]摩擦的轰鸣心跳般起落\n[03:03.22]像誓词被一再诉说\n[03:07.05]多年后那声音不会减弱\n[03:11.10]仍在耳畔响彻"),et=tt;function nt(t){var e=[{id:1,title:"铁皮火车不停开",cover:"https://p2.music.126.net/QdF0rFj1VAli3OpptKU6SQ==/109951168980173340.jpg",length:"04:20",artist:"蒋敦豪",lyric:et,url:"https://music.163.com/song/media/outer/url?id=2090581422.mp3"}];return e[t]}function it(){var t=[{id:1,title:"tie",cover:"https://p2.music.126.net/QdF0rFj1VAli3OpptKU6SQ==/109951168980173340.jpg",length:"04:20",artist:"jiang",lyric:tie},{id:2,title:"tie",cover:"https://p2.music.126.net/QdF0rFj1VAli3OpptKU6SQ==/109951168980173340.jpg",length:"04:20",artist:"jiang",lyric:tie}];return t}var rt=Object(o["a"])({state:{playList:[],playListIndex:0,isbtnShow:!0,detailShow:!1,lyricList:{},currentTime:0,duration:0,isFooterMusic:!0,currentPlay:{}},mutations:{updateCurrentPlay:function(t,e){t.currentPlay=e},updateIsbtnShow:function(t,e){t.isbtnShow=e},updatePlayList:function(t,e){t.playList=e,console.log("state.playList",t.playList)},updatePlayListIndex:function(t,e){t.playListIndex=e},updateDetailShow:function(t){t.detailShow=!t.detailShow},updateLyricList:function(t,e){t.lyricList=e},updateCurrentTime:function(t,e){t.currentTime=e},updateDuration:function(t,e){t.duration=e}},actions:{getPlayMusicList:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=it(),console.log("getPlayList",i),e.commit("updatePlayList",i);case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),getCurrentPlay:function(){var t=Object(Z["a"])(regeneratorRuntime.mark((function t(e,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=nt(n),console.log("getCurrentPlay",i),e.commit("updateCurrentPlay",i);case 3:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},modules:{}}),ct=(n("8a58"),n("e41f")),at=(n("66b9"),n("b650")),ut=[at["a"],ct["a"]];function st(t){ut.forEach((function(e){return t.use(e)}))}var ot=Object(i["e"])(Y);st(ot),ot.use(rt).mount("#app")},"7c8d":function(t,e,n){},"97c9":function(t,e,n){},aa05:function(t,e,n){"use strict";n("97c9")},e666:function(t,e,n){},f773:function(t,e,n){"use strict";n("e666")}});
//# sourceMappingURL=app.893de5d1.js.map